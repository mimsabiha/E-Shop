{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hp\\\\Desktop\\\\466-ECommerce\\\\frontend\\\\client\\\\src\\\\views\\\\Homescreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getAllProducts } from '../actions/productAction';\nimport Product from '../components/SingleProduct/Product';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport AdminLogin from './Admin/AdminLogin';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Homescreen() {\n  _s();\n\n  const dispatch = useDispatch();\n  const productState = useSelector(state => state.getAllProductsReducer);\n  const {\n    products,\n    error,\n    loading\n  } = productState;\n  const logState = !!localStorage.getItem('currentAdmin');\n  useEffect(() => {\n    if (!logState) {\n      dispatch(getAllProducts());\n      checkUser();\n    }\n  }, []); //  console.log(logState)\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [\"   \", /*#__PURE__*/_jsxDEV(ToastContainer, {\n      limit: 1\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row justify-content-center homescreenContainer\",\n      children: logState ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              id: \"noItemsinCart\",\n              children: \"Welcome ,You are Logged in as an Administrator\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 35,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              id: \"noItemsinCart2\",\n              children: [\"Visit \", /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"/orders\",\n                children: \"Orders\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 36,\n                columnNumber: 49\n              }, this), \" to Verify and Forward Orders to Suppliers \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 36,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 12\n      }, this) : loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"load_hold\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"dots-bars-3\",\n          children: \"  \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 48\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 24\n      }, this) : error ? /*#__PURE__*/_jsxDEV(\"html_h1\", {\n        children: \"Wrong\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 22\n      }, this) : products.map(product => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-3 m-3 \",\n          children: /*#__PURE__*/_jsxDEV(Product, {\n            product: product\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 17\n          }, this)\n        }, product._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 22\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Homescreen, \"7vzBbpVtILyQIqQkRvM12YOAiyc=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = Homescreen;\nexport const notify = (callId, msg, timex) => {\n  if (callId === 'noUser') {\n    return toast.error(msg, {\n      position: toast.POSITION.TOP_CENTER,\n      autoClose: timex\n    });\n  }\n\n  if (callId === 'redirect') {\n    return toast.info(msg, {\n      position: toast.POSITION.TOP_RIGHT,\n      autoClose: timex\n    });\n  }\n};\nexport const checkUser = () => {\n  if (!localStorage.getItem('currentUser')) {\n    setTimeout(() => window.location.href = '/login', 6000);\n    notify('noUser', \"Please Login First\", 1000);\n    notify('redirect', \"You will be redirected to Login Page\", 2000);\n  }\n};\nexport const checkLoggedAsAdmin = () => {\n  if (localStorage.getItem('currentAdmin')) {\n    setTimeout(() => window.location.href = '/', 3000);\n    notify('noUser', \"You are logged in as admin\", 2000);\n  }\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"Homescreen\");","map":{"version":3,"sources":["C:/Users/Hp/Desktop/466-ECommerce/frontend/client/src/views/Homescreen.js"],"names":["React","useState","useEffect","useDispatch","useSelector","getAllProducts","Product","ToastContainer","toast","AdminLogin","Homescreen","dispatch","productState","state","getAllProductsReducer","products","error","loading","logState","localStorage","getItem","checkUser","map","product","_id","notify","callId","msg","timex","position","POSITION","TOP_CENTER","autoClose","info","TOP_RIGHT","setTimeout","window","location","href","checkLoggedAsAdmin"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react'\r\nimport {useDispatch,useSelector} from 'react-redux'\r\nimport {getAllProducts} from '../actions/productAction'\r\nimport Product from '../components/SingleProduct/Product'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport AdminLogin from './Admin/AdminLogin';\r\n\r\nexport default function Homescreen() {\r\n\r\n  const dispatch=useDispatch()\r\n\r\n  const productState= useSelector( state=>state.getAllProductsReducer)\r\n  const { products, error, loading }= productState;\r\n  \r\n  const logState=!(!localStorage.getItem('currentAdmin'));\r\n  \r\n  useEffect(() => {\r\n\r\n    if (!logState){\r\n      \r\n       dispatch(getAllProducts())\r\n       checkUser()\r\n    }\r\n}, [])\r\n  //  console.log(logState)\r\n \r\n  return (\r\n    <div>   <ToastContainer limit={1} />\r\n        <div className='row justify-content-center homescreenContainer'>\r\n\r\n        { logState ? \r\n          (<div><p>  \r\n                <div> \r\n                  <h3 id='noItemsinCart'>Welcome ,You are Logged in as an Administrator</h3> \r\n                  <h3 id='noItemsinCart2'>Visit <a href= '/orders' >Orders</a> to Verify and Forward Orders to Suppliers </h3> \r\n                </div>  \r\n           </p></div> ): \r\n        \r\n          ( loading ? (<div class=\"load_hold\"> <div class=\"dots-bars-3\">  </div></div>): \r\n            error ? (<html_h1>Wrong</html_h1>):\r\n            (\r\n              products.map(product => {\r\n              return <div  className='col-md-3 m-3 'key={product._id}>\r\n                <Product product={product} />\r\n              </div>\r\n            })\r\n            )\r\n          )\r\n        \r\n        }\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\nexport const notify = (callId,msg,timex) => {\r\n\r\n  if(callId==='noUser'){return toast.error(msg, {position: toast.POSITION.TOP_CENTER,autoClose:timex})}\r\n  if(callId==='redirect'){return toast.info(msg, {position: toast.POSITION.TOP_RIGHT,autoClose:timex})}\r\n}\r\nexport const checkUser=()=>{\r\n  if (!localStorage.getItem('currentUser')){\r\n  \r\n    setTimeout(() =>   window.location.href='/login', 6000);\r\n    notify('noUser',\"Please Login First\",1000)\r\n    notify('redirect',\"You will be redirected to Login Page\",2000)\r\n\r\n\r\n  }\r\n}\r\n\r\nexport const checkLoggedAsAdmin=()=>{\r\n\r\n  if (localStorage.getItem('currentAdmin')){\r\n  \r\n    setTimeout(() =>   window.location.href='/', 3000);\r\n    notify('noUser',\"You are logged in as admin\",2000)\r\n\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}